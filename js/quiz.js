var myQuestions = [
    {
        "question": "What is forsen's current personal best in minecraft?",
        "answers": {
            a: "18:10",
            b: "20:45",
            c: "20:38",
            d: "21:37",
        },
        "correctAnswer": "a"
    },
    {
        "question": "Can someone explain nymn to me? He spends _____ percent of the stream talking about forsen and his viewers.",
        "answers": {
            a: "80-90",
            b: "90-95",
            c: "100",
            d: "60-70",
        },
        "correctAnswer": "a"
    },
    {
        "question": "Who is locked up in forsen's basement?",
        "answers": {
            a: "tyggbar",
            b: "eloise",
            c: "nani",
            d: "your mom"
        },
        "correctAnswer": "c"
    },
    {
        "question": "What was Forsen's death count in <i>Garlic</i>?",
        "answers": {
            a: "2691",
            b: "513",
            c: "1412",
            d: "0, he is a god gamer"
        },
        "correctAnswer": "a"
    },
    {
        "question": "What is the name of forsen's alt account?",
        "answers": {
            a: "forsenlol",
            b: "Gawr Gura",
            c: "NymN",
            d: "Dr Disrespect"
        },
        "correctAnswer": "b"
    },
    {
        "question": "How many shadowsteps did forsen have in his miracle rogue run?",
        "answers": { a: "4", b: "3", c: "0", d: "1" },
        "correctAnswer": "b"
    },
    {
        "question": "What was forsen's first GTA RP character called?",
        "answers": { a: "Snus Svenberg", b: "Frank Fritugo", c: "Sven Snusberg", d: "Mason Foorhees" },
        "correctAnswer": "c"
    },
    {
        "question": "How long did forsen get banned for when he showed a horse cock on stream in 2020?",
        "answers": { a: "1 month", b: "It never happened", c: "3 days", d: "2 weeks" },
        "correctAnswer": "a"
    },
    {
        "question": "What is forsen's full name?",
        "answers": { a: "Sebastian Muhammed Fors", b: "Sebastian Andersson Fors", c: "Sebastian Hans Eli Fors", d: "Sebastian Heichou" },
        "correctAnswer": "c"
    },
    {
        "question": "When did forsen first talk to nani?",
        "answers": { a: "2015", b: "2018", c: "2023", d: "2016" },
        "correctAnswer": "a"
    },
    {
        "question": "Forsen's dog was originally going to be called:",
        "answers": { a: "Pleb", b: "Rat", c: "BIBI", d: "Pepper" },
        "correctAnswer": "a"
    },
    {
        "question": "What team is forsen part of?",
        "answers": { a: "Cloud9", b: "TSM", c: "MADMONQ", d: "Tempo Storm" },
        "correctAnswer": "a"
    },
    {
        "question": "In what Swedish city does forsen live?",
        "answers": { a: "Mecca", b: "Malmo", c: "Gothenburg", d: "Stockholm" },
        "correctAnswer": "d"
    },
    {
        "question": "How many hours of Minecraft did forsen play?",
        "answers": { a: "500", b: "699", c: "701", d: "521" },
        "correctAnswer": "b"
    },
    {
        "question": "How Long did it take forsen to beat <i>Jump King: Ghost of the Babe</i>?",
        "answers": { a: "57:45:08", b: "50:27:46", c: "51:55:39", d: "56:02:00" },
        "correctAnswer": "d"
    },
    {
        "question": "Which of these characters has forsen never played in SoulCalibur VI?",
        "answers": { a: "Talim", b: "Geralt", c: "Astaroth", d: "Raphael" },
        "correctAnswer": "a"
    },
    {
        "question": "What was the last mission forsen played in <i>GTA Vice City (original edition)</i> before his save got corrupted?",
        "answers": { a: "The Job", b: "Shakedown", c: "Bomb Away!", d: "Hog Tied" },
        "correctAnswer": "a"
    },
    {
        "question": "How many hands did Forsen Sebastian Fors lose in a row?",
        "answers": { a: "11", b: "7", c: "13", d: "0", },
        "correctAnswer": "a"
    },
    {
        "question": "Decode the following word:<br>IZBJANW",
        "answers": { a: "KACHING", b: "JACKBOX", c: "SWEDISH", d: "FORSENE" },
        "correctAnswer": "b"
    },
    {
        "question": "Which of the following cannot be decoded to <i>FORSEN</i> in any way?",
        "answers": { a: "AJMNZI", b: "GPSTFO", c: "WIHOPR", d: "ENQRDM" },
        "correctAnswer": "c"
    },
    {
        "question": "What is forsen's peak viewer count?",
        "answers": { a: "60,545", b: "80,860", c: "94,678", d: "104,570" },
        "correctAnswer": "b"
    },
    {
        "question": "What is Forsen's all-time high active subs count?",
        "answers": { a: "24,423", b: "19,554", c: "16,653", d: "34,541" },
        "correctAnswer": "c"
    },
    {
        "question": "What is Forsen's most frequent stream category?",
        "answers": { a: "Just Chatting", b: "Minecraft", c: "Hearthstone", d: "PUBG" },
        "correctAnswer": "a"
    },
    {
        "question": "When was the last time Forsen played <i>GTA Vice City (original version)</i> on stream?",
        "answers": { a: "Apr 2, 2020", b: "Mar 7, 2020", c: "Apr 21, 2019", d: "Nov 9, 2020" },
        "correctAnswer": "a"
    },
    {
        "question": "What is Forsen's average daily broadcast time?",
        "answers": { a: "6.3 hrs", b: "6.5 hrs", c: "6.1 hrs", d: "6.7 hrs" },
        "correctAnswer": "a"
    },
    {
        "question": "Choose a day of week with a least amount of Forsen's streams on average:",
        "answers": { a: "Saturday", b: "Sunday", c: "Friday", d: "Monday" },
        "correctAnswer": "c"
    },
    {
        "question": "How many days did Forsen stream on in 2020?",
        "answers": ["310", "301", "285", "269"],
        "correctAnswer": 2
    },
    {
        "question": "What game was Forsen playing when his viewer count peaked?",
        "answers": { a: "Atlas", b: "Minecraft", c: "Welcome to the Game II", d: "Jump King" },
        "correctAnswer": "a"
    },
];

function showResults() {

    // gather answer containers from our quiz
    const answerContainers = quizContainer.querySelectorAll('.answers');

    // keep track of user's answers
    let numCorrect = 0;

    // for each question...
    myQuestions.forEach((currentQuestion, questionNumber) => {

        // find selected answer
        const answerContainer = answerContainers[questionNumber];
        const selector = `input[name=question${questionNumber}]:checked`;
        const userAnswer = (answerContainer.querySelector(selector) || {}).value;

        // if answer is correct
        if (userAnswer === currentQuestion.correctAnswer) {
            // add to the number of correct answers
            numCorrect++;

            // color the answers green
            answerContainers[questionNumber].style.color = 'lightgreen';
        }
        // if answer is wrong or blank
        else {
            // color the answers red
            answerContainers[questionNumber].style.color = 'red';
        }
    });

    // show number of correct answers out of total
    resultsContainer.innerHTML = `${numCorrect} out of ${myQuestions.length}`;
}

function buildQuiz() {
    // variable to store the HTML output
    const output = [];

    // for each question...
    myQuestions.forEach(
        (currentQuestion, questionNumber) => {

            // variable to store the list of possible answers
            const answers = [];

            // and for each available answer...
            for (letter in currentQuestion.answers) {

                // ...add an HTML radio button
                answers.push(
                    `<label>
              <input type="radio" name="question${questionNumber}" value="${letter}">
              ${letter} :
              ${currentQuestion.answers[letter]}
            </label>`
                );
            }

            // add this question and its answers to the output
            output.push(
                `<div class="slide">
                  <div class="question"> ${currentQuestion.question} </div>
                  <div class="answers"> ${answers.join("")} </div>
                </div>`
            );

        }
    );

    // finally combine our output list into one string of HTML and put it on the page
    quizContainer.innerHTML = output.join('');
}


var quizContainer = document.getElementById('quiz');
var resultsContainer = document.getElementById('results');
var submitButton = document.getElementById('submit');

// Kick things off
buildQuiz();
const previousButton = document.getElementById("previous");
const nextButton = document.getElementById("next");
const slides = document.querySelectorAll(".slide");
let currentSlide = 0;

function showSlide(n) {
    slides[currentSlide].classList.remove('active-slide');
    slides[n].classList.add('active-slide');
    currentSlide = n;
    if (currentSlide === 0) {
        previousButton.style.display = 'none';
    }
    else {
        previousButton.style.display = 'inline-block';
    }
    if (currentSlide === slides.length - 1) {
        nextButton.style.display = 'none';
        submitButton.style.display = 'inline-block';
    }
    else {
        nextButton.style.display = 'inline-block';
        submitButton.style.display = 'none';
    }
}

function showNextSlide() {
    showSlide(currentSlide + 1);
}

function showPreviousSlide() {
    showSlide(currentSlide - 1);
}

previousButton.addEventListener("click", showPreviousSlide);
nextButton.addEventListener("click", showNextSlide);


// Event listeners
submitButton.addEventListener('click', showResults);
showNextSlide();